<div class= "panel panel-primary" >
    <div class= "panel-heading" >User registration form</div>
    <div class= "panel-body" >
        <form class= "css-form" name= "userForm" ng-submit="submitForm()" novalidate>
            <div class= "form-group" >
                <label for= "userName" >User name</label>
                <input type= "text" class= "form-control" id= "userName"
                       name= "userName" placeholder= "Username"
                       ng-model="user.userName" unique-user required>
                <span ng-show= "userForm.userName.$dirty
                                && userForm.userName.$error.unique" >
                    User name is not unique
                </span>
            </div>

            <div class= "form-group" >
                <label for= "password" >Password</label>
                <input type= "password" class= "form-control" id= "password"
                       name= "password" placeholder= "Password"
                       ng-model="user.password"
                       required >
            </div>

            <div class= "form-group" >
                <label for= "password2" >Repeat Password</label>
                <input type= "password" class= "form-control" id= "password2"
                       name= "password2" placeholder= "Repeat password"
                       ng-model="user.password2"
                       match-to="user.password"
                       required>
                <span ng-show= "userForm.password2.$touched
                                && userForm.password2.$error.matchTo">
                    Passwords should match
                </span>
            </div>

            <div class= "form-group" >
                <label for= "dateOfBirth" >Date of birth</label>
                <input type= "text" class= "form-control" id= "dateOfBirth"
                       name= "dateOfBirth" placeholder= "Date of birth"
                       ng-model="user.dateOfBirth"
                       ng-pattern= "/^[0-9][0-9]\.[0-1][0-9]\.[1-2][0-9][0-9][0-9]$/" >
                <span ng-show="userForm.dateOfBirth.$error.pattern">
                    Date of birth should be in format dd.mm.yyyy
                </span>
            </div>

            <div class="checkbox">
                <label>
                    <input type="checkbox" ng-model="user.subscribe">
                        Subscribe for newsletters
                </label>
            </div>

            <div class= "form-group" ng-show="user.subscribe" >
                <label for= "email" >E-mail</label>
                <input type= "text" class= "form-control" id= "email"
                       name= "email" placeholder= "E-mail" >
            </div>

            <button type= "submit" class= "btn btn-primary" ng-disabled="userForm.$invalid">Submit</button>
        </form>
    </div>
</div>